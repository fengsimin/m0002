<?php
//Copyright (c) 2016 iFeiwu.com
 class Database extends Ifeiwu { function __construct() { $this->table = ''; parent::__construct(); } protected function postBackup() { goto lTacA; whGMa: exF8i: goto Tr5Le; NU7Ax: if ($name !== false) { goto vlPph; } goto Sarnf; azYRZ: vlPph: goto w6c4_; Sarnf: return $this->error(); goto Pf3Qj; Pf3Qj: goto exF8i; goto azYRZ; w6c4_: return $this->success('', $name); goto whGMa; xz51d: $name = $mb->export(); goto NU7Ax; OsfT0: $mb = new MysqlBackup(); goto xz51d; lTacA: ifeiwu\Loader::import("\x65\x78\164\x65\156\x64\57\x4d\171\163\161\154\x42\141\143\x6b\165\160"); goto OsfT0; Tr5Le: } protected function postReply($filename) { goto X8051; X8051: ifeiwu\Loader::import("\145\x78\x74\x65\156\144\x2f\x4d\x79\163\x71\x6c\x42\x61\x63\x6b\165\x70"); goto NBQpu; cADIr: $errors = $mb->import($filename); goto L1Th4; L1Th4: if (!$errors) { goto cTYcl; } goto gw7Bz; e3YSa: pfGT1: goto OAR3O; QlqH_: goto pfGT1; goto feh_Y; RyhfZ: return $this->success(); goto e3YSa; gw7Bz: return $this->error(json_encode($errors)); goto QlqH_; feh_Y: cTYcl: goto RyhfZ; NBQpu: $mb = new MysqlBackup(); goto cADIr; OAR3O: } protected function getSqls() { goto Re9ze; Re9ze: $dir = "\x73\x71\154\x2f"; goto F2g04; fYyo4: id9gw: goto Xvx2f; z3G36: $stat = stat($dir . $file); goto NuEFK; Xvx2f: closedir($handle); goto UBMxl; u3ENx: dHzfO: goto w40lB; S5665: return array_reverse($files); goto updWq; UBMxl: L7VH4: goto S5665; NuEFK: $files[] = array("\x6e\141\x6d\145" => $file, "\163\151\172\145" => $stat["\163\x69\172\x65"], "\x63\x74\x69\x6d\145" => $stat["\143\x74\x69\155\x65"]); goto IOM7E; w40lB: if (!(false !== ($file = readdir($handle)))) { goto id9gw; } goto MkHcu; F2g04: if (!(false != ($handle = opendir($dir)))) { goto L7VH4; } goto u3ENx; IOM7E: BONk7: goto zxruB; zxruB: goto dHzfO; goto fYyo4; MkHcu: if (!($file != "\x2e" && $file != "\56\x2e" && strpos($file, "\56"))) { goto BONk7; } goto z3G36; updWq: } protected function postDelete($filename) { goto sdSpR; mR3al: l5zdY: goto XZoUx; XZoUx: return $this->success(); goto NGuGj; sdSpR: if (unlink("\163\x71\x6c\x2f{$filename}") !== false) { goto l5zdY; } goto Vz06y; QESAp: goto PEg2H; goto mR3al; Vz06y: return $this->error(); goto QESAp; NGuGj: PEg2H: goto mnVwY; mnVwY: } }
