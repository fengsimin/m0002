<?php
//Copyright (c) 2016 iFeiwu.com
 class Log extends Item { function __construct() { $this->table = "\x6c\157\x67"; parent::__construct(); } protected function callbackPageAfter(&$data) { $data["\x6c\151\163\x74"] = $this->_getData($data["\154\151\x73\x74"]); } protected function getLately() { $list = $this->db->select($this->table)->where("\160\x69\144\40\x3d\x20\x30")->order("\x63\164\151\155\145\40\104\105\123\x43")->limit(4)->all(); return $this->success($this->_getData($list)); } protected function postDelete($request_data) { goto Qwx67; c11LQ: wkVSi: goto rIG66; Qwx67: $error = array(); goto gGPLg; bSonB: IinIr: goto tr7nO; rIG66: if (count($error) === 0) { goto IinIr; } goto QhIHR; gGPLg: $ids = $request_data["\151\144"]; goto q3BLz; QhIHR: return $this->error(); goto qlOws; tr7nO: return $this->success(); goto cf_n8; qlOws: goto m_dpc; goto bSonB; q3BLz: foreach ($ids as $id) { goto RUTP3; EGZ1F: YOS51: goto hYSjB; PFDCH: $error[] = $id; goto EGZ1F; RUTP3: if (!$this->db->delete($this->table, array("\x69\144", "\x3d", $id))->is()) { goto YOS51; } goto PFDCH; hYSjB: Db8fu: goto gMAqX; gMAqX: } goto c11LQ; cf_n8: m_dpc: goto FO_op; FO_op: } private function _getData($data) { goto kh0Yg; ntDlz: UcsWy: goto JC5xr; JC5xr: return $data; goto KRjZp; kh0Yg: foreach ($data as $key => $value) { goto oeUWO; R88Qn: waFsa: goto p5H2z; oeUWO: $type = $value["\x74\x79\160\x65"]; goto oldO8; YkBDk: $url = $value["\x75\x72\154"]; goto uYzXY; oldO8: $title = $value["\x74\151\x74\154\x65"]; goto YkBDk; uYzXY: switch ($type) { case "\x6c\x6f\147\x69\x6e": goto NbJGZ; C_wQA: goto waFsa; goto XXVxI; NbJGZ: $data[$key]["\151\x63\x6f\156"] = "\x61\143\x63\x6f\165\156\x74"; goto WR9Ps; WR9Ps: $data[$key]["\164\x69\x74\154\x65"] = "\347\231\xbb\xe5\205\245\347\xbd\221\xe7\253\231\xe5\x90\x8e\345\x8f\xb0"; goto C_wQA; XXVxI: case "\141\144\x64": goto W1sGw; rG7ja: $data[$key]["\x74\x69\x74\154\145"] = "\xe6\xb7\273\xe5\212\xa0\xe6\x95\xb0\xe6\x8d\xae\x3a\x26\x6e\x62\x73\x70\73\x3c\141\x20\x68\162\145\146\x3d\42" . ($url . "\x26\151\x64\75" . $value["\x74\x61\142\x6c\x65\x5f\x69\x64"]) . "\42\76" . $title . "\x3c\x2f\141\76"; goto pGzdL; pGzdL: goto waFsa; goto BDHNP; W1sGw: $data[$key]["\x69\143\x6f\x6e"] = "\x70\x6c\165\x73"; goto rG7ja; BDHNP: case "\x75\x70\144\141\x74\x65": goto YkKdi; ducP5: $data[$key]["\x74\151\164\154\x65"] = "\xe6\x9b\xb4\xe6\x96\260\346\225\xb0\346\x8d\256\x3a\46\x6e\x62\163\160\x3b\74\141\x20\x68\x72\145\x66\75\x22" . $url . "\x22\76" . $title . "\74\x2f\x61\x3e"; goto EM53G; YkKdi: $data[$key]["\x69\x63\x6f\x6e"] = "\x70\x65\156\x63\x69\154"; goto ducP5; EM53G: goto waFsa; goto Zc04p; Zc04p: case "\162\x65\x6d\x6f\166\x65": goto ovtWp; IsxZx: goto waFsa; goto OlV8d; ovtWp: $data[$key]["\151\x63\x6f\x6e"] = "\144\x65\154\x65\164\145\x2d\146\157\x72\x65\166\145\x72"; goto gySXY; gySXY: $data[$key]["\x74\x69\x74\154\145"] = "\xe7\xa7\273\351\x99\xa4\x26\x6e\142\x73\x70\x3b\x3c\141\x20\x68\x72\145\146\75\42" . $url . "\42\76" . $title . "\x3c\57\x61\x3e\x26\x6e\x62\x73\x70\x3b\346\x9d\241\346\225\xb0\xe6\215\xae\xe5\210\xb0\345\x9b\236\xe6\224\266\xe7\253\231"; goto IsxZx; OlV8d: case "\x72\145\160\x6c\x79": goto TnOLC; Mbxsw: $data[$key]["\164\x69\164\x6c\x65"] = "\344\xbb\216\345\x9b\236\346\224\xb6\347\xab\231\346\201\242\345\244\x8d\46\156\142\163\x70\73\x3c\x61\x20\150\162\145\146\75\42" . $url . "\x22\x3e" . $title . "\x3c\x2f\x61\76\46\x6e\142\163\160\x3b\xe6\235\xa1\xe6\225\260\xe6\215\256"; goto NBHQ7; TnOLC: $data[$key]["\151\143\x6f\x6e"] = "\162\145\160\154\171"; goto Mbxsw; NBHQ7: goto waFsa; goto e2VP1; e2VP1: case "\x64\145\154\x65\164\x65": $data[$key]["\151\143\157\x6e"] = "\x64\145\x6c\x65\164\145\x2d\x76\141\x72\x69\x61\x6e\x74"; $data[$key]["\x74\x69\164\x6c\145"] = "\345\xbd\xbb\345\xba\x95\345\210\xa0\351\231\244\x26\156\142\x73\160\x3b\x3c\141\x20\150\162\x65\146\x3d\42" . $url . "\x22\x3e" . $title . "\x3c\x2f\141\76\46\x6e\142\x73\x70\x3b\xe6\x9d\xa1\346\225\260\346\x8d\xae"; default: goto waFsa; } goto Kiqu4; Kiqu4: fcRjs: goto R88Qn; p5H2z: YOhuA: goto IIEmt; IIEmt: } goto ntDlz; KRjZp: } }
